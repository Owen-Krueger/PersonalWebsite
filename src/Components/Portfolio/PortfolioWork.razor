<PortfolioSection Title="Employment">
    <Content>
        @foreach (var company in Companies)
        {
            <p class="text-lg font-bold text-cyan-500 mb-4">@company.Name</p>
            @foreach (var position in company.Positions)
            {
                <div class="mb-6">
                    <div>
                        <span class="font-bold">@position.Title</span>
                        <span class="float-right">@GetDateString(position.StartDate, position.EndDate)</span>
                    </div>
                    <div>
                        <p>@position.Description</p>
                    </div>
                </div>
            }
            <HorizontalBar />
        }
    </Content>
</PortfolioSection>

@code {
    /// <summary>
    /// List of companies under an employer.
    /// </summary>
    [Parameter]
    public List<Company> Companies { get; set; } = new();

    /// <summary>
    /// Gets a date string in the format of "startDate - endDate" or "startDate - Present" if endDate is null.
    /// </summary>
    private string GetDateString(DateOnly startDate, DateOnly? endDate)
    {
        return $"({startDate} - {endDate?.ToString() ?? "Present"})";
    }
}